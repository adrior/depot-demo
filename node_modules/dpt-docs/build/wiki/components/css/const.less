.platform(default; @rules) {
  .const(@platform);
  @rules();
}

.platform(@name; @rules) when (@name = @platform) {
    .const(@name);
    @rules();
}

.extends(@consts...) {
  .loop(@n) when (@n > 0) {
    .const(extract(@consts, @n));
    .loop(@n - 1);
  }
  .loop(length(@consts));
}

@platforms: desktop;

.const(default) {
  .const(desktop);
}

.const(desktop) {
    @font-sans: "Arial", sans;
    @font-minor: "Verdana", sans;
    // Wiki Constants
    @doc-font: "Helvetica Neue", Arial, sans-serif;
    @doc-font-light: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
    @text-width: 600px;
    @serp-width-desktop: 536px;
    @serp-width: @serp-grid-col-width * 12 + @serp-grid-gap-width * 11 + 14px;
    @wiki-pane-background: #f6f5f3;
    @serp-grid-col-width: 30px; //Ширина колонки
    @serp-grid-gap-width: 16px; //Величина межколонника
    //Базовые цвета
    @color-black: #000; //Чистый чёрный
    @color-gray: #999; //Серый для второстепенной информации
    @color-red: #F00; //Чистый красный
    @color-yellow: #FC0; //Фирменный жёлтый
    @color-neowhite: #F3F1ED; //Бежевый для подложек
    @color-disable: #AAA; //Цвет отключённых элементов
    @color-action: #fc0; //Для жёлтых кнопок
    @color-action-fill: #ffdb4c; //Хуй знает, не помню
    @color-selection: #ffeba0; //Цвет нажатых контролов
    @color-selection-text: #b2a470; //Цвет для выделения чего-то
    @color-border: rgba(0, 0, 0, 0.1); //Цвет для границ
    @color-border-light: rgba(0, 0, 0, 0.06); //Цвет светлых границ
    @color-shade: rgba(0, 0, 0, 0.04); //Цвет для затенения контуров картинок

    //Цвет текста
    @color-text-main: #333; //Цвет основного текста
    @color-text-minor: #999; //Серый для второстепенной информации

    //Цвет ссылок
    @color-link-serp: #04b; //Цвет ссылок
    @color-link-hover: #C00; //Ховер для ссылок
    @color-link-visited: #909; //Цвет посещённых ссылок
    @color-link-outer: #070; //Зелёный цвет для внешних ссылок и адресов сайтов
    @color-link-minor: #669; //Пепельный цвет второстепенных ссылок

    //Параметры для кнопок и других контролов на их основе
    @button-height-xs: 22px; //
    @button-height-s: 24px; //
    @button-height-m: 28px; //
    @button-height-l: 32px; //
    @button-height-xl: 38px; //
    @button-radius: 3px; //
    @button-border-color: rgba(0, 0, 0, 0.2); //Цвет границ контролов

    //Интервалы для интерфейсных анимаций
    @time-slow: 0.2s; //
    @time-normal: 0.15s; //
    @time-fast: 0.1s; //

    //Шапка
    @head-height: 70px; //

    //Поисковая стрелка
    @arrow-height: 36px; //Высота поисковой стрелки
    @arrow-border-width: 2px; //Толщина границы поисковой стрелки
    @arrow-button-font-size: 16px; //Кегль надписи на кнопке
    @arrow-input-font-size: 18px; //Кегль текста в запросе

    //Типографика поисковой выдачи
    @serp-typo-size-supertitle: 28px; //
    @serp-typo-height-supertitle: 32px; //
    @serp-typo-size-title: 18px; //
    @serp-typo-height-title: 24px; //
    @serp-typo-size-subtitle: 14px; //
    @serp-typo-height-subtitle: 17px; //
    @serp-typo-size-text: 13px; //
    @serp-typo-height-text: 17px; //
    @serp-typo-size-supertext: 15px; //
    @serp-typo-height-supertext: 24px; //
    @serp-typo-size-sign: 13px; //
    @serp-typo-height-sign: 16px; //
    @serp-typo-size-hint: 11px; //
    @serp-typo-height-hint: 15px; //
    @serp-typo-size-list: 13px; //
    @serp-typo-height-list: 17px; //
    @serp-typo-size-set: 13px; //
    @serp-typo-gap-x: 16px; //

    //Параметры для поисковой выдачи и её шапки
    @serp-grid-col-width: 30px; //Ширина колонки
    @serp-grid-gap-width: 16px; //Величина межколонника
    @serp-grid-side-gap: 40px; //Отступ между центральной и правой колонками
    @serp-grid-col-width12: 536px; //Ширина серпа из 12 колонок
    @serp-grid-left-col-width: 130px; //Ширина левой колонки (под логотипом)
    @serp-grid-left-col-narrow-width: 40px; //Ширина левой колонки в узком состоянии, пока используется только на планшете
}

.platform(default; {
    .shadow-control () {
        box-shadow+:0 1px 0 0 rgba(0,0,0,.12), 0 5px 10px -3px rgba(0,0,0,.3);
        /*box-shadow+:0 1px 0 0 rgba(0,0,0,.12), 0 7px 10px -5px rgba(0, 0, 0, 0.3);*/
    }
});

@platform: default;
